{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Business\\\\Desktop\\\\Lambda\\\\Projects\\\\front-end\\\\post-here-front-end\\\\src\\\\components\\\\Login.js\";\nimport React from 'react';\nimport { Form, FormGroup, FormText, Button } from 'reactstrap';\nimport { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport '../styles/Login.scss';\n\nfunction LoginForm() {\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n  const history = useHistory();\n\n  const handleChange = e => {\n    e.preventDefault();\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const login = e => {\n    e.preventDefault();\n    axiosWithAuth().post('/login', credentials).then(res => {\n      //const user = response.data;\n      //login(user);\n      console.log(res, 'retrieved the token');\n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem('id', res.data.user.id); //history.push(`/protected/${res.data.user.id}`)\n\n      history.push(\"/dashboard\");\n    }).catch(res => {\n      console.log(res);\n      alert('the username or password is incorrect');\n    });\n  };\n\n  const sendToRegister = () => {\n    history.push('/register');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    className: \"auth-form\",\n    onSubmit: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    type: \"submit\",\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Submit\"))));\n}\n\n;\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/Business/Desktop/Lambda/Projects/front-end/post-here-front-end/src/components/Login.js"],"names":["React","Form","FormGroup","FormText","Button","useState","useHistory","axiosWithAuth","axios","connect","LoginForm","credentials","setCredentials","username","password","history","handleChange","e","preventDefault","target","name","value","login","post","then","res","console","log","localStorage","setItem","data","token","user","id","push","catch","alert","sendToRegister"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Form, FormGroup, FormText, Button } from 'reactstrap';\r\nimport {useState} from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {axiosWithAuth} from '../utils/axiosWithAuth'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux';\r\n\r\nimport '../styles/Login.scss'; \r\n\r\nfunction LoginForm(){\r\n\r\n    \r\n    const [credentials, setCredentials] = useState({\r\n        username: '',\r\n        password: ''\r\n      })\r\n    const history = useHistory()\r\n\r\n    const handleChange = e=>{\r\n        e.preventDefault()\r\n        setCredentials({\r\n            ...credentials,\r\n            [e.target.name]: e.target.value\r\n        })\r\n      }\r\n\r\n    const login = e=>{\r\n        e.preventDefault()\r\n        axiosWithAuth()\r\n        .post('/login', credentials)\r\n        .then(res=>{\r\n            \r\n            //const user = response.data;\r\n            //login(user);\r\n\r\n          console.log(res, 'retrieved the token')\r\n          localStorage.setItem('token', res.data.token)\r\n          localStorage.setItem('id', res.data.user.id) \r\n          //history.push(`/protected/${res.data.user.id}`)\r\n          history.push(\"/dashboard\"); \r\n        })\r\n        .catch(res=>{\r\n          console.log(res)\r\n          alert('the username or password is incorrect')\r\n        })\r\n      }\r\n\r\n    const sendToRegister =()=>{\r\n        history.push('/register')\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Form className='auth-form' onSubmit = {login}>\r\n\r\n                <FormGroup>\r\n                    <FormText>Email:</FormText>\r\n                    <label htmlFor = 'email'>\r\n                        <input\r\n                             type=\"text\"\r\n                             name=\"username\"\r\n                             value={credentials.username}\r\n                             onChange={handleChange}\r\n                        />\r\n                    </label>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <FormText>Password:</FormText>\r\n                    <label htmlFor = 'password'>\r\n                        <input \r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={credentials.password}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </label>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Button color='danger' type='submit' size=\"lg\">\r\n                        Submit\r\n                    </Button>\r\n                </FormGroup>\r\n            </Form>\r\n            {/* <p>don't have an account?</p>\r\n            <Button onClick={sendToRegister}>Click here to make one!</Button> */}\r\n        </>\r\n    ); \r\n}; \r\n\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}